<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Asimutfoli">

    <title>Report | Asimutfoli</title>

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/css/magnific-popup.css" rel="stylesheet">
    <link href="assets/css/templatemo-first-portfolio-style.css" rel="stylesheet">
</head>

<body>
    <main>
        <section class="contact section-padding" id="section_1">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-12">
                        <img src="assets/images/logoglyph.png" class="about-image img-fluid" alt="Asimutfoli logo">
                    </div>

                    <div class="col-lg-6 col-12 mt-5 mt-lg-0">
                        <div class="about-thumb">
                            <div class="section-title-wrap d-flex justify-content-end align-items-center mb-4">
                                <h2 class="text-white me-4 mb-0">We just have a few questions</h2>
                            </div>
                            <form role="form" class="custom-form contact-form" id="reportform" name="reportform">
                                <div class="row">
                                    <div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missingfirstname"
                                                    id="missingfirstname" placeholder="First Name" />
                                                <label for="floatingInput">First Name</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missinglastname"
                                                    id="missinglastname" placeholder="Last Name" />
                                                <label for="floatingInput">Last Name</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="number" class="form-control" name="missingage"
                                                    id="missingage" placeholder="Age" />
                                                <label for="floatingInput">Age</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missingareaoforigin"
                                                    id="missingareaoforigin" placeholder="Area of Origin" />
                                                <label for="floatingInput">Area of Origin</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <textarea type="text" class="form-control"
                                                    name="missingdescriptionlastseen" id="missingdescriptionlastseen"
                                                    placeholder="Description Last Seen"></textarea>
                                                <label for="floatingInput">Description Last Seen</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missingplacelastseen"
                                                    id="missingplacelastseen" placeholder="Place Last Seen" />
                                                <label for="floatingInput">Place Last Seen</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="datetime-local" class="form-control"
                                                    name="missingdatetimelastseen" id="missingdatetimelastseen"
                                                    placeholder="Date and Time Last Seen" />
                                                <label for="floatingInput">Date and Time Last Seen</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="file" class="form-control" name="missingpicture"
                                                    id="missingpicture" placeholder="Picture" accept="image/*" />
                                                <label for="floatingInput">Picture</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="alertingfirstname"
                                                id="alertingfirstname" placeholder="First Name" />
                                            <label for="floatingInput">First Name</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="alertinglastname"
                                                id="alertinglastname" placeholder="Last Name" />
                                            <label for="floatingInput">Last Name</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="number" class="form-control" name="alertingemailaddress"
                                                id="alertingemailaddress" placeholder="Age" />
                                            <label for="floatingInput">E-mail Address</label>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="alertingmobilenumber"
                                                id="alertingmobilenumber" placeholder="Mobile Number" />
                                            <label for="floatingInput">Mobile Number</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="contactingmobilenumber1"
                                                id="contactingmobilenumber1" placeholder="Mobile Number 1" />
                                            <label for="floatingInput">Mobile Number 1</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="contactingmobilenumber2"
                                                id="contactingmobilenumber2" placeholder="Mobile Number 2" />
                                            <label for="floatingInput">Mobile Number 2</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="contactingmobilenumber3"
                                                id="contactingmobilenumber3" placeholder="Mobile Number 3" />
                                            <label for="floatingInput">Mobile Number 3</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-6 col-12">
                                    <div class="section-title-wrap d-flex justify-content-end align-items-center mb-4"
                                        id="termsofservicebutton">
                                        <h4 class="text-white me-4 mb-0">Read our Terms of Service</h4>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input type="checkbox" class="form-check-input" name="agree-term"
                                            id="agree-term" />
                                        <label for="inlineCheckbox1" class="form-check-label">
                                            <span class="form-check-label-text">
                                                I agree to all statements in the Terms of Service
                                            </span>
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 col-12 ms-auto">
                                        <button type="submit" class="form-control" name="reportbutton"
                                            id="reportbutton">Report</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-12">
                    <div class="copyright-text-wrap">
                        <p class="mb-0">
                            <span class="copyright-text">
                                Copyright © 2022 <a href="index.html">Asimutfoli</a>. All rights reserved.
                            </span>
                            Design: <a rel="sponsored" href="https://templatemo.com" target="_blank">TemplateMo</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/click-scroll.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/magnific-popup-options.js"></script>
    <script src="js/custom.js"></script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-analytics.js";
        import { getPerformance } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-performance.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAViRQdsttkBPn-kAKenUJIcUuDN1BSce4",
            authDomain: "asimutfoli.firebaseapp.com",
            databaseURL: "https://asimutfoli-default-rtdb.firebaseio.com",
            projectId: "asimutfoli",
            storageBucket: "asimutfoli.appspot.com",
            messagingSenderId: "886115269734",
            appId: "1:886115269734:web:adf29f426f36d42e4381a7",
            measurementId: "G-77WPHNCKTB"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const perf = getPerformance(app);

        // import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
        // const auth = getAuth();
        import { getDatabase, ref, update } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";
        const db = getDatabase();

        const reportId = Date.now();

        var captureReportDataButton = document.getElementById("reportbutton");
        captureReportDataButton.addEventListener("click", captureReportData);
        function captureReportData() {
            event.preventDefault();
            var missingFirstName = document.getElementById("missingfirstname").value;
            var missingLastName = document.getElementById("missinglastname").value;
            var missingAge = document.getElementById("missingage").value;
            var missingAreaOfOrigin = document.getElementById("missingareaoforigin").value;
            var missingDescriptionLastSeen = document.getElementById("missingdescriptionlastseen").value;
            var missingPlaceLastSeen = document.getElementById("missingplacelastseen").value;
            var missingDateTimeLastSeen = document.getElementById("missingdatetimelastseen").value;
            var missingPicture = document.getElementById("missingpicture").value;

            var reportingFirstName = document.getElementById("alertingfirstname").value;
            var reportingLastName = document.getElementById("alertinglastname").value;
            var reportingEmailAddress = document.getElementById("alertingemailaddress").value;
            var reportingMobileNumber = document.getElementById("alertingmobilenumber").value;

            var reportingContactMobileNumber1 = document.getElementById("contactingmobilenumber1").value;
            var reportingContactMobileNumber2 = document.getElementById("contactingmobilenumber2").value;
            var reportingContactMobileNumber3 = document.getElementById("contactingmobilenumber3").value;

            var newReportRef = ref(db, "reports" + "/" + reportId);
            update(newReportRef, {
                id: reportId,
                missing: {
                    firstname: missingFirstName,
                    lastname: missingFirstName,
                    age: missingAge,
                    areaoforigin: missingAreaOfOrigin,
                    description: missingDescriptionLastSeen,
                    lastknownsightinglocation: missingPlaceLastSeen,
                    lastknownsightingtime: missingDateTimeLastSeen,
                    image: missingPicture
                },
                reporting: {
                    firstname: reportingFirstName,
                    lastname: reportingLastName,
                    emailaddress: reportingEmailAddress,
                    mobilenumber: reportingMobileNumber
                },
                contact: {
                    mobilenumber1: reportingContactMobileNumber1,
                    mobilenumber2: reportingContactMobileNumber2,
                    mobilenumber3: reportingContactMobileNumber3
                }
            });
            setTimeout(proceedToReport, 3000);
        };

        const readTermsOfServiceButton = document.getElementById("termsofservicebutton");
        readTermsOfServiceButton.addEventListener("click", openTermsOfService);
        function openTermsOfService() {
            window.location.href = ("termsofservice.html");
        };

        function proceedToReport() {
            window.location.href = ("report-view.html?reportid=" + reportId);
        };
    </script>

</body>

</html>