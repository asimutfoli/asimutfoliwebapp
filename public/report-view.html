<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Asimutfoli">

    <title>Report | Asimutfoli</title>

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <link href="css/magnific-popup.css" rel="stylesheet">
    <link href="css/templatemo-first-portfolio-style.css" rel="stylesheet">
</head>

<body>
    <main>
        <section class="contact section-padding" id="section_1">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-12">
                        <img src="assets/images/logoglyph.png" class="about-image img-fluid"
                            alt="man reading with toddler" id="missingpicture" name="missingpicture">
                    </div>

                    <div class="col-lg-6 col-12 mt-5 mt-lg-0">
                        <div class="about-thumb">
                            <div class="section-title-wrap d-flex justify-content-end align-items-center mb-4">
                                <h2 class="text-white me-4 mb-0">We just have a few questions</h2>
                            </div>
                            <form role="form" class="custom-form contact-form" id="reportform" name="reportform">
                                <div class="row">
                                    <div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="reportid" id="reportid"
                                                    placeholder="Report ID" readonly />
                                                <label for="floatingInput">Report ID</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missingfirstname"
                                                    id="missingfirstname" placeholder="First Name" readonly />
                                                <label for="floatingInput">First Name</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missinglastname"
                                                    id="missinglastname" placeholder="Last Name" readonly />
                                                <label for="floatingInput">Last Name</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="number" class="form-control" name="missingage"
                                                    id="missingage" placeholder="Age" readonly />
                                                <label for="floatingInput">Age</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missingareaoforigin"
                                                    id="missingareaoforigin" placeholder="Area of Origin" readonly />
                                                <label for="floatingInput">Area of Origin</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <textarea type="text" class="form-control"
                                                    name="missingdescriptionlastseen" id="missingdescriptionlastseen"
                                                    placeholder="Description Last Seen" readonly></textarea>
                                                <label for="floatingInput">Description Last Seen</label>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" name="missingplacelastseen"
                                                    id="missingplacelastseen" placeholder="Place Last Seen" readonly />
                                                <label for="floatingInput">Place Last Seen</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="col-lg-12 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="datetime-local" class="form-control"
                                                    name="missingdatetimelastseen" id="missingdatetimelastseen"
                                                    placeholder="Date and Time Last Seen" readonly />
                                                <label for="floatingInput">Date and Time Last Seen</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="alertingfirstname"
                                                id="alertingfirstname" placeholder="First Name" readonly />
                                            <label for="floatingInput">First Name</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="alertinglastname"
                                                id="alertinglastname" placeholder="Last Name" readonly />
                                            <label for="floatingInput">Last Name</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="number" class="form-control" name="alertingemailaddress"
                                                id="alertingemailaddress" placeholder="Age" readonly />
                                            <label for="floatingInput">E-mail Address</label>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="alertingmobilenumber"
                                                id="alertingmobilenumber" placeholder="Mobile Number" readonly />
                                            <label for="floatingInput">Mobile Number</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="contactingmobilenumber1"
                                                id="contactingmobilenumber1" placeholder="Mobile Number 1" readonly />
                                            <label for="floatingInput">Mobile Number 1</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="contactingmobilenumber2"
                                                id="contactingmobilenumber2" placeholder="Mobile Number 2" readonly />
                                            <label for="floatingInput">Mobile Number 2</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-6 col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" name="contactingmobilenumber3"
                                                id="contactingmobilenumber3" placeholder="Mobile Number 3" readonly />
                                            <label for="floatingInput">Mobile Number 3</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 col-12 ms-auto">
                                        <button type="submit" class="form-control" name="sharebutton"
                                            id="sharebutton">Share</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-12">
                    <div class="copyright-text-wrap">
                        <p class="mb-0">
                            <span class="copyright-text">
                                Copyright Â© 2022 <a href="index.html">Asimutfoli</a>. All rights reserved.
                            </span>
                            Design: <a rel="sponsored" href="https://templatemo.com" target="_blank">TemplateMo</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/click-scroll.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/magnific-popup-options.js"></script>
    <script src="js/custom.js"></script>


    <script type="text/javascript" language="JavaScript">
        function queryRequest() {
            console.log("running query");
            // Specify form's name between the quotes on next line.
            var formName = "reportform";
            var querylocation = location.href.indexOf('?');
            if (querylocation < 0) { return; }
            var q = location.href.substr(querylocation + 1);
            var list = q.split('&');
            for (var i = 0; i < list.length; i++) {
                var kv = list[i].split('=');
                if (!eval('document.' + formName + '.' + kv[0])) { continue; }
                kv[1] = unescape(kv[1]);
                if (kv[1].indexOf('"') > -1) {
                    var re = /"/g;
                    kv[1] = kv[1].replace(re, '\\"');
                }
                eval('document.' + formName + '.' + kv[0] + '.value="' + kv[1] + '"');
            }
        };
        queryRequest();
    </script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-analytics.js";
        import { getPerformance } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-performance.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyARQCFJ5lxSrcV9LdQWK4-Me5aU1RKMLwU",
            authDomain: "asimutfolilo.firebaseapp.com",
            databaseURL: "https://asimutfolilo-default-rtdb.firebaseio.com",
            projectId: "asimutfolilo",
            storageBucket: "asimutfolilo.appspot.com",
            messagingSenderId: "950384543193",
            appId: "1:950384543193:web:70ed098eb8cc223e2e45c8",
            measurementId: "G-P1P2S3PZC6"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const perf = getPerformance(app);

        // import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";
        // const auth = getAuth();
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
        const db = getDatabase();

        const reportId = document.getElementById("reportid").value;
        
        readReportData();
        function readReportData() {
            event.preventDefault();

            var missingReportRef = ref(db, "reports" + "/" + reportId + "/" + "missing");
            onValue(missingReportRef, (snapshot) => {
                if (snapshot.exists()) {
                    var missingFirstName = snapshot.child("firstname").val();
                    var missingLastName = snapshot.child("lastname").val();
                    var missingAge = snapshot.child("age").val();
                    var missingAreaOfOrigin = snapshot.child("areaoforigin").val();
                    var missingDescriptionLastSeen = snapshot.child("description").val();
                    var missingPlaceLastSeen = snapshot.child("lastknownsightinglocation").val();
                    var missingDateTimeLastSeen = snapshot.child("lastknownsightingtime").val();
                    var missingPicture = snapshot.child("image").val();

                    document.getElementById("missingfirstname").value = missingFirstName;
                    document.getElementById("missinglastname").value = missingLastName;
                    document.getElementById("missingage").value = missingAge;
                    document.getElementById("missingareaoforigin").value = missingAreaOfOrigin;
                    document.getElementById("missingdescriptionlastseen").value = missingDescriptionLastSeen;
                    document.getElementById("missingplacelastseen").value = missingPlaceLastSeen;
                    document.getElementById("missingdatetimelastseen").value = missingDateTimeLastSeen;
                    document.getElementById("missingpicture").value = missingPicture;
                }
            });

            var reportingReportRef = ref(db, "reports" + "/" + reportId + "/" + "reporting");
            onValue(reportingReportRef, (snapshot) => {
                if (snapshot.exists()) {
                    var reportingFirstName = snapshot.child("firstname").val();
                    var reportingFirstName = snapshot.child("lastname").val();
                    var reportingEmailAddress = snapshot.child("emailaddress").val();
                    var reportingMobileNumber = snapshot.child("mobilenumber").val();

                    document.getElementById("alertingfirstname").value = reportingFirstName;
                    document.getElementById("alertinglastname").value = reportingLastName;
                    document.getElementById("alertingemailaddress").value = reportingEmailAddress;
                    document.getElementById("alertingmobilenumber").value = reportingMobileNumber;
                }
            });

            var contactReportRef = ref(db, "reports" + "/" + reportId + "/" + "contact");
            onValue(contactReportRef, (snapshot) => {
                if (snapshot.exists()) {
                    var reportingContactMobileNumber1 = snapshot.child("mobilenumber1").val();
                    var reportingContactMobileNumber2 = snapshot.child("mobilenumber2").val();
                    var reportingContactMobileNumber3 = snapshot.child("mobilenumber3").val();

                    document.getElementById("contactingmobilenumber1").value = reportingContactMobileNumber1;
                    document.getElementById("contactingmobilenumber2").value = reportingContactMobileNumber2;
                    document.getElementById("contactingmobilenumber3").value = reportingContactMobileNumber3;
                }
            });
        };
    
        var shareReportDataButton = document.getElementById("sharebutton");
        
        </script>

</body>

</html>